<div class="people-container">
  <h2>People Management</h2>
  
  @if (loading()) {
    <div class="loading">
      Loading...
    </div>
  }
  
  @if (error()) {
    <div class="error">
      {{ error() }}
    </div>
  }
  
  <div class="actions">
    <button (click)="onRefresh()" class="btn btn-secondary">Refresh</button>
  </div>
  
  <div class="content-grid">
    <!-- People List Panel -->
    <div class="people-panel">
      <h3>People</h3>
      <div class="people-list">
        @for (person of people(); track trackByPersonId($index, person)) {
          <div 
            class="person-item"
            [class.selected]="selectedPerson()?.id === person.id"
            (click)="onPersonSelect(person)">
            <div class="person-name">{{ getFullName(person) }}</div>
            <div class="person-id">ID: {{ person.id }}</div>
            @if (person.email) {
              <div class="person-email">{{ person.email }}</div>
            }
          </div>
        }
      </div>
    </div>
    
    <!-- Details Panel -->
    <div class="details-panel">
      <h3>Person Details</h3>
      @if (selectedPerson()) {
        <div class="person-details">
          <div class="detail-item">
            <label>ID:</label>
            <span>{{ selectedPerson()!.id }}</span>
          </div>
          <div class="detail-item">
            <label>First Name:</label>
            <span>{{ selectedPerson()!.firstName || 'Not specified' }}</span>
          </div>
          <div class="detail-item">
            <label>Last Name:</label>
            <span>{{ selectedPerson()!.lastName || 'Not specified' }}</span>
          </div>
          <div class="detail-item">
            <label>Email:</label>
          <span>{{ selectedPerson()!.email || 'Not specified' }}</span>
        </div>
        <div class="detail-item">
          <label>Phone:</label>
          <span>{{ selectedPerson()!.phone || 'Not specified' }}</span>
        </div>
        <div class="detail-item">
          <label>Address:</label>
          <span>{{ selectedPerson()!.address || 'Not specified' }}</span>
        </div>
        <div class="detail-item">
          <label>Date of Birth:</label>
          <span>{{ formatDate(selectedPerson()!.dateOfBirth) }}</span>
        </div>
        <div class="detail-item">
          <label>Company:</label>
          <span>{{ selectedPerson()!.company || 'Not specified' }}</span>
        </div>
        <div class="detail-item">
          <label>Job Title:</label>
          <span>{{ selectedPerson()!.jobTitle || 'Not specified' }}</span>
        </div>
        <div class="detail-item">
          <label>Notes:</label>
          <span class="notes">{{ selectedPerson()!.notes || 'No notes' }}</span>
        </div>
      </div>
      }
    
    @if (!selectedPerson()) {
      <div class="no-details">
        Select a person to view details
      </div>
    }
    </div>
  </div>
</div>
